CienciasMatemáticas,Vol.32,No.1,2018,Pag.51-59
Recibido11-2017
NGAT : Plataforma para la obtención de Redes de
Transporte para el trabajo con Problemas de Diseño
de Rutas
NGAT: Framework for obtaining Transport Networks
for work with Routes Design problems
Rainer Llera Menocal1, Alberto Fernández Oliva1, Joanna Campbell Amos1
Resumen Lasociedadactualdependeengranmedidadelaoptimizacióndesusprocesos.Entreestosse
encuentra,elusodelasredesdecarreteras,líneaseléctricas,caminos,etc.Lacorrectarepresentacióndedichas
redeshaciendousodelaTeoríadeGrafoses,porende,unaspectodevitalimportanciaendiversoscontextos
del mundo actual. El presente trabajo brinda un marco de trabajo (framework) que constituye una solución
computacionalpararepresentarredesdetransportedeformanovedosa,eficienteyflexibleencorrespondencia
coneldesarrolloactualdelastecnologíasdelainformaciónylascomunicaciones.Elresultadoquesepresenta,
sirve,portanto,comoenlaceentrelossistemasdeinformacióngeográfica,proveedoresdelainformaciónsobre
las redes antes mencionadas y los sistemas computacionales diseñados para la solución de problemas de
optimizaciónrelacionadosconlasredes,como,porejemplo,losproblemasderutas.
Abstract Today’ssocietydependstoalargeextentontheoptimizationofitsprocesses. Amongtheseisthe
use of road networks, power lines, gas lines, etc. The correct representation of such networks using Graph
Theoryis,therefore,anaspectofvitalimportanceindiversecontextsoftheworld. Thepresentworkprovides
aframeworkthatconstitutesacomputationalsolutiontorepresenttransportnetworksinanovel,efficientand
flexiblewayincorrespondencewiththecurrentdevelopmentofinformationandcommunicationtechnologies.
Theresult,therefore,servesasalinkbetweenthegeographicinformationsystems,informationprovidersonthe
aforementionednetworksandthecomputersystemsdesignedforthesolutionofrelatedoptimizationproblems.
PalabrasClave
RedesdeTransporte,Problemasdediseñoderutas,SIG,Plataforma
Keywords
TransportNetworks,DesingRoutingProblems,GIS,Framework
1DepartamentodeProgramacióneIngeniaríadesoftware,UniversidaddelaHabana,LaHabana,Cuba,afdez@matcom.uh.cu,
joanna@matcom.uh.cu
*AutorparaCorrespondencia,CorrespondingAuthor
Introducción de las redes de calles, carreteras, líneas eléctricas, etc., de
maneraconfiable.Dichosmodelosrepresentaninformación
Muchosproblemasrealesdelasociedadinvolucranlabús-
fiel a la realidad, por lo que su diseño correcto y eficiente
quedadecaminosatravésdecalles,carreterasuotromedio
esdevitalimportancia,económicaysocial,enlaactualidad.
dedesplazamiento.Asísucede,porejemplo,enlarecogida
Comosehaexplicado,losproblemasdebúsquedaodiseño
deresiduossólidos,ladistribucióndemercancías,inspección
derutasestánvinculadosaproblemasrealesdelasociedad.
delaslíneaseléctricas,tuberíasdelíneasdegasopetróleo,
Para conformar los mismos mediante modelos precisos, se
lectura de los contadores eléctricos o de agua, y campañas
requieredesuinteracciónconlosSistemasdeInformación
contravectoresdeenfermedadestransmisibles[1].Elobjetivo
Geográfica(SIG),puesestosbrindanlainformaciónnecesaria
fundamentaldelasolucióndemuchosdeestosproblemases
referente a las redes en las que se resuelven estos proble-
laconstrucciónoeldiseñoderutasóptimas,esdecir,quesu
mas.Existeunagranvariedaddeproblemasqueinvolucran
recorridominimicealgúncostoomaximicealgunaganancia.
labúsquedaderutasyelusodemodelosquerepresentanlas
Dichaconstrucciónestásujeta,generalmente,arestricciones
calles,carreteras,etc.Dichosproblemassepuedenclasificar
sobrelasoperacionesposiblesarealizar.Pararesolvereste
endosgruposfundamentalesatendiendoasunaturaleza:los
tipodeproblemasesnecesarioqueserealicelamodelación
52 NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas
Problemas de Enrutamiento de Vehículos (Vehicle Routing Hastaestemomento,suimplementaciónestáorientada,
Problems-VRP)ylosProblemasdeEnrutamientoporArcos específicamente, a problemas simples de rutas y no
(ArcRoutingProblems-ARP).Elconocimientodelaestructura contemplaproblemasdeoptimizaciónmáscomplejos
quecaracterizaadichosproblemaspermiteunacercamiento asociadosalasRedesdeTransportecomo,porejemplo,
alanaturalezageneraldelosmodelosderepresentaciónque losARP.Noobstante,actualmenteexisteunainiciativa,
involucranredesdecaminos. incipienteaun,paraabarcarestetipodeproblemas
Itineroestáobligadaautilizarsesolocomolibreríay
no como unservicio externo para su explotación por
1. Motivación , justificación y formulación
tercerosyaquecarecedeunsistemadeAPIsparatales
del problema
fines.
Unaprimeraaproximaciónaladimensióndelproblema Encuantoalapersistenciayexportacióndelosdatos,
delaconstruccióndegrafosparaRedesdeTransporte,per- solosetienenencuentalosquesusautoresdenominan
mitedarnoscuentadesuimportanciaytrascendenciapues RouterDB(obasededatosderutas).Estossonarchi-
como ya se ha mencionado, dicho problema tiene muchas vosenunformatomuyparticularque,aunquecontiene
aplicacionesencasosrealesdelmundoactual.Silasolución todalainformaciónreferentealaReddeTransporte(el
óptimadeproblemasvitalesparalasociedaddependedeuna Grafo),nopuedenserutilizadosdirectamenteporalgún
representación eficiente de la Red de Transporte mediante
clientedelsoftware(otralibrería)directamente.Itine-
modelosmatemáticosbasadosenlaTeoríadeGrafos,enton- ronoposeeningúnmecanismointernoparaexportar
cesresultainnegablelanecesidaddeprecisión,correctitudy elGrafoquerepresentalaReddeTransporteaalgún
eficienciaenelprocesodeconstruccióndedichosGrafos.En formatoestándar.
general,existendiversasplataformasdedesarrollodesoftware LasprincipalesdesventajasdeNetworkXqueselepueden
quepermitenlacreacióndeGrafosapartirdelainformación señalarson:
geográficabrindadaporlosSIGs.Porsolocitaralgunosejem-
Aunque es un proyecto bastante flexible (hereda las
plos,puedenmencionarse:Rutas[4],OpenSourceRouting
ventajasmultiplataformadellenguajedeprogramación
Machine [5] e Itinero [6]. Desafortunadamente, algunas de
enelquefueconcebido),alnohabersidodiseñadoes-
estasplataformasnoestándisponibleslibrementeyexisten
pecíficamenteparaeltrabajoconproblemascomplejos
bajoestrictaslicenciascomercialesdesoftwarepropietario,
deoptimización(porejemplo,losVRP),actualmente
que pueden pertenecer o no a los proveedores de los SIGs,
noesextensibleparasuusoenlasolucióndetalestipos
mientrasqueotrasnocumplencontodaslasexpectativaspara
de problemas. No obstante, se puede aprovechar del
la construcción de Grafos que representen Redes de Trans-
mismolasbondadesqueofreceparalarepresentación
porteindependientementedesuusofinal.PorejemploRutas
deRedesdeTransporte.
tienelassiguientescarencias:
Sibienpuedeseñalarsequeunadesusventajasesla
Enlaadocumentacióndisponiblenosehacereferencia compatibilidadqueposeeconelformatodeproveedo-
a la manera en la que el software construye el Grafo res de información geográfica Shapefile, resulta una
pararepresentarlaReddeTransporte. desventaja que dicha compatibilidad sea solo con di-
No se especifica si el software está desacoplado con choformato.Otrosproyectosindependienteshansido
respectoalorigendelcualprocedelainformacióngeo- desarrolladospormiembrosdelacomunidadparatratar
gráficaqueprocesa(soloserefierenalSIGcomouna decubrirestadeficiencia.Losmismos,porlogeneral,
entidadengeneral). hacenusodelasestructurasdedatosquebrindaNet-
Nosebrindainformaciónenlorelativoalapersistencia workX,ypermitenlacompatibilidadconotrosformatos
delasestructurasdedatosqueseobtienen(Grafos). deinformacióngeográficacomoOpenStreetMap[13].
Estapropuesta,independientementedelasbuenasprác- Carecedealgunaimplementaciónoextensiónparasu
ticasquepudieronserempleadasonoensudesarrollo, explotaciónremotaatravésdealgúnsistemadeAPIs.
tieneunalcancebastantelimitadoencuantoasuutili- Noseencontraronevidenciasdealgúnproyectoquela
zación.Esdecir,solopuedeserutilizadacomosoftware utiliceenestesentido.
deescritorio.Portanto,nopuedeserreutilizado,por OSRMtienecomoprincipalesdesventajas:
ejemplo,comolibreríasniporterceros.
Ademásdelasventajasquepresuponeelusodelmo-
EnelcasodeItineroencontramoslassiguientescarencias: deloedge-expandedgraphsuusotraecomodesventaja
queaumentaeltamañodelaestructuraquerepresenta
Comolibrería,carecedeunadocumentaciónexplícita. laReddeTransporte[14].
Lamismaselimitasoloacomentariosqueaparecenen Estaplataformautilizasolamentelosdatosprovenien-
elcódigofuentedelproyecto.Loanteriorobligaalos tesdeOpenStreetMapysuimplementaciónestáatada
usuariosdelsoftwareaestudiardichocódigoparausos completamente a dicho formato de datos [5]. Esto li-
máscomplejosquelosmostradosenlosejemplos.. mita,enciertamedida,sureusabilidadencasoquesea
NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas 53
necesariotrabajarconotroproveedordeinformación 1. Garantizarabstracciónencuantoalformatoenelcual
geográfica. vienelainformacióngeográficasuministrada.
Hastaelmomento,nosehapropuestoningunaexten- 2. Garantizarabstraccióndelacapadedatosencuantoa
sión de OSRM para su aplicación en la solución de latecnologíaylarepresentacióndelosmismos.
problemas de optimización más complejos como los 3. Implementarunaarquitecturadesoftwareparapoder
ARP.Estolimitalosuusoenlasolucióndeproblemas extender la funcionalidad de la plataforma en lo que
derutasmássimples(depuntoapuntoengeneral). respectaaresolverproblemasdediversotipoasociados
alaTeoríadeGrafosuotrocualquieraspectoinherente
Esto presupone la necesidad de desarrollar plataformas de
alaplataformaquepuedaserextensible.
softwarelibre,extensiblesymantenibles,quepermitaalos
4. Apartirdelobjetivoanterior,permitirflexibilidaden
investigadoresquetenganqueresolverproblemasdeoptimi-
cuantoaltipodeinformaciónqueseimportadelma-
zaciónsobrelareddetransporte,porejemplo,unproblema
padigitalparaconstruirelGrafo.Estofacilitaquelos
dediseñoderutas,notenerqueprocesarlosmapasdigitales,
clientesdelaplataformapuedandecidir,segúnsusne-
convertirlos a Grafos para entonces, posteriormente, poder
cesidades,quédatosprocesarencadamomento.
resolverelproblemaenparticularquelesocupa.Esdecir,me-
5. Implementarunprocesadorconcretoparaunodelos
dianteelusodelasplataformasantesmencionadas,pueden
posiblesformatosdemapasdedatos(OpenStreetMap
abstraerse de dichas tareas y podrán explotar directamente
hasidoelseleccionado).
elGrafoquesederivadelainformaciónprocesadaautomá-
6. Implementarunalgoritmoconcretoquemuestrelaex-
ticamente.Teniendoencuentatambién,quelainformación
tensibilidadexpresadaen3.(elalgoritmodecaminos
quesemanejaenlosSIGyportantoenlasolucióndepro-
decostomínimodeDijkstrahasidoelseleccionado).
blemas de diseño de rutas, equivalen a grandes volúmenes
7. CrearunsistemaAPIcontecnologíaRESTfulqueper-
dedatos,cuyoprocesamientoescomputacionalmentecosto-
mitaelusodelaplataformaparalacreaciónyexplota-
so,resultatrascendentegarantizarlaeficienciaencuantoa:
cióndeGrafosdemaneraremota.
persistenciayformasderepresentación.Apartirdelestudio
del estado del arte realizado en relación al problema de la
2. Problemas de Rutas
construccióndeGrafosparaRedesdeTransporte,seobserva
que, actualmente, existen diversos contextos de aplicación, Losproblemasqueinvolucranlabúsquedaoselecciónde
asociadosaproblemasdeoptimizacióndeprocesos,donde caminosparasatisfacerunadeterminadademandaoservicio,
losinvestigadoresrequierendeunaReddeTransportepara comolosVRPyARP,poseenelementoscomunesqueson
representarenellalainformaciónasociadaadichoproblema independientesdelanaturalezadelosmismosFigura1.Entre
ylacualfuesuministradaporcualquieradelosproveedores ellos,losmásrepresentativossonlossiguientes:
deinformacióngeográficaexistentes.Sinembargo,elformato
enquevieneestainformacióntienequesertransformadoaun 1. Vehículo: En este tipo de problemas la definición de
formatoquepuedaserprocesadoporlosalgoritmosdeopti- unvehículodebeversedesdeunaperspectivalomás
mizaciónqueseránutilizadosparadarsoluciónalproblema. generalposible,osea,endichocontextounvehículo
Portanto,esnecesarioconcebirplataformascomputacionales podríaser,unaseñaleléctricaquetransportainforma-
quedeformaautomatizadahagantalconversión.Teniendo ción, un ser humano que transporta una determinada
en cuenta el contexto de la investigación, se puede definir carga, un avión, un barco, un auto, una bicicleta, un
elproblemaidentificadodelasiguienteforma:aunqueenla animal,etc.Losvehículossedefinenapartirdeuncon-
actualidadexistenherramientasorientadasaestepropósito, juntodeatributos,talescomo,sucapacidaddecarga
noseencontróenlacomunidadOpenSourceunaplataforma (pesoy/ovolumen),costesasociadosalautilizacióndel
abiertalosuficientementeextensible,reutilizableyabstracta mismo,suautonomía,etc.Resultaevidente,apartirde
quesimplementeproceselainformacióngeográficaexistente loexpresado,queenlosmismossepuedetransportar
yobtengaapartirdeellaunGrafo(comorepresentacióndela diferentestiposdecargas.
ReddeTransporte)sinimportarelproveedorquesuministró 2. Flota de vehículos: No es más que un conjunto de
lainformaciónnielcontextodondeseráutilizado. vehículosdeigualodiferentetipo.Cuandotodoslos
vehículosdelaflotacompartenlasmismascaracterís-
1.1 Objetivos ticas,entonces,sedicequelaflotaeshomogénea.En
Elobjetivogeneraldeestetrabajoesdesarrollaruncom- casocontrario,sedicequelaflotaesheterogénea.El
ponente,obibliotecadecódigo,cuyopropósitoseaconstruir número de vehículos asociado a una flota puede ser
GrafosparaRedesdeTransporte,apartirdemapasdigitales conocido,opuedeserunvaloradecidir.
brindados(ensumayoría)porlosSIG’sypersistir,oexportar, 3. Red de transporte: es un conjunto de entidades espe-
dichosgrafosdemaneraflexibleparasuusoporcomponen- cíficas, conectadas entre sí, que permite que por ella
tesdeterceros.Paragarantizarelcumplimientodelobjetivo circulen los vehículos que transportan ciertas cargas,
generalplanteado,seproponealcanzar,paulatinamente,un materialesoinmateriales,entreestasentidades,según
conjuntodeobjetivosespecíficos.Sonlossiguientes: reglasbiendefinidas.Estasentidadespodríanser,por
54 NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas
ejemplo,almacenes,conectadosporcarreteraso,swit- lización geográfica e, inversamente, dada una localización
chesconectadosporcableseléctricos,etc.Elmodelo geográficapodemosconocertodoslosobjetosyatributosgeo-
matemático a partir del cual se describe una red de gráficosasociadosaella[3].LosSIGsalmacenaninformación
transporteesunGrafo. procedentedelmundorealcomopuedenser,porejemplo,la
4. DepósitoscentralesoAlmacenes:sonotrosdelosposi- referidaacarreteras,ríos,lagos,montañas,etc.Existendos
blescomponentesdelared(nodosdelgrafotambién) formasprincipalesenlasqueserepresentanysealmacenan
los cuales se definen a partir de su localización, ade- losdatosantesmencionados[7]:
másdeotrascaracterísticasquelosdiferencianentre
rasteroderetícula.
sí.Porejemplo,capacidadmáximadealmacenamiento,
vectorial.
horariodedisponibilidad,etc.
5. Ruta:esunasecuenciadenodospertenecientesalared
Elmodelovectorialmodelalosobjetosgeográficosdeinterés
detransporte,quepuedeserrecorridaenelordendado,
utilizandotreselementosgeométricosfundamentales:Puntos,
esdecir,queexisteunenlacedirectoentrelosparesde
Polilíneas,Polígonos.VerFigura2
nodosconsecutivos.Puedeentendersecomouncamino
establecido dentro de la red de transporte. En el con-
4. Integración de la información
textodelosproblemasdebúsquedaderutas,apartir
deestasseoptimizaelcostonecesario,olaganancia geográfica con la Teoría de Grafos
obtenidadelasatisfaccióndeunadeterminadademan-
Teniendo en cuenta lo expuesto anteriormente, resulta
da.Porejemplo,minimizarelgastodelacantidadtotal
evidentequeparalaconstruccióndegrafosquerepresenten
de combustible usado por una flota de vehículos que
RedesdeTransporteesnecesariointerpretarlainformación
debenbrindarundeterminadoservicio,ominimizarla
proporcionada por los SIGs en el modelo vectorial. Dado
cantidaddevehículosdelaflotaparadardichoservicio.
que estas redes se construyen, por lo general, sobre la red
Generalmente,lasolucióndelosproblemasderutas,tie- decarreterasycaminosdelasciudadesylocalidades,para
nencomoentrada,unarepresentacióndelareddetransporte sumodelaciónmedianteungrafo,elprimerpasoquehabría
(grafo)ydancomosalida,unaovariasrutasaseguir.Enla querealizaresfiltrarlasgeometríasdeinterés,esdecir,de-
literaturaconsultada,noexisteunadefiniciónformalyabarca- terminarlaspolilíneasquecumplanciertoscriteriosapartir
doraparaeltérminoProblemadeRuta.Alosefectosdeeste de ciertos valores de sus atributos (por ejemplo, que estén
trabajo,hemosasumidolasiguientedefinición:Problemade marcadascomocalles,paraevitarincluirlosríos).Enlaprác-
Rutas(RP):esaquelqueinvolucraeldiseñooselecciónde tica,lasecuenciadepuntosquedefinenunapolilínea,puede
rutasdentrodeunareddetransporte,conelobjetivodeopti- representardiferentesentidadesentrelascuales,seincluyen:
mizaralgúnproceso.Comoseexplicóanteriormente,losRP interseccionesconotraspolilíneas(calles,arroyos,líneasde
sepuedenclasificarendosgrupos(VRPyARP)que,aunque ferrocarril,etc.),objetosdeinteréscomo,porejemplo,una
compartenloselementosanteriormentedescritoscomoparte señaldetránsito,untrasformadorenlasvíaseléctricas,oun
desudefinición,difierenencuantoaloscontextosdondeson cambioconsiderableenladireccióndelavía.Teniendoen
usadosyaqueelobjetodeestudioesdiferente,enuncasoson cuentaqueunapolilíneaesunasecuenciadepuntos,sedebe
losnodosyenelotrolosenlaces. describircomoserepresentalamismaenelGrafo:
CadapuntodelapolilíneaesunvérticedelGrafo.
3. Sistemas de Información Geográfica Entrecadapardepuntos(vértices)consecutivosdela
(SIG) polilíneaseestableceunaarista(cuandonohayningún
atributoasociadoalapolilíneaqueindiquedirección
UnSistemadeInformaciónGeográfica(SIG)esuncon-
decirculación)ounarco,encasocontrario.Portanto,
juntodeherramientasqueintegrayrelacionadiversoscom-
elobjetoresultante,teniendoencuentaloantesdescrito
ponentes(usuarios,hardware,softwareyprocesos)queper-
es,generalmente,ungrafomixto.Teniendoencuenta
mitenlaorganización,elalmacenamiento,lamanipulación,
lascomplejidadesquepresentaelmundoreal,sepuede
el análisis y la modelación de grandes cantidades de datos
decirqueelmodeloqueseconstruyeesunmultígrafo
procedentesdelmundoreal.Dichosdatosestánvinculados
mixtoponderado,puesenelmismopuedencoexistir:
a una referencia espacial, esto facilita la incorporación de
arcos,aristasylazos.Además,losarcosoaristas,tienen
aspectossociales-culturales,económicosyambientalesalos
un costo asociado, el cual, en su forma más simple,
mismos con el objetivo de hacer más eficiente la toma de
puedeserladistanciaentrelospuntos(vértices)quelas
decisiones[2].ElSIGfuncionacomounabasededatoscon
definen.
informacióngeográficaenlaquelosobjetos(provenientesde
mapas digitales) que se encuentran almacenados en ella se Paradiversassituacionesdelmundoreal,modelarlaRed
asocianentresíapartirdeunidentificadorcomún(establece deTransporte,bajodichaconcepción,puededarcomoresul-
una geo referencia). De esta forma, dado cualquier objeto tadoungrafomuycomplejoque,porlogeneral,resultadifícil
almacenado en la base de datos, podemos conocer su loca- deprocesarporlosalgoritmosdeoptimizaciónexistentes.Por
NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas 55
Figura1.Elementoscomunesdelosproblemasderutas
tanto,resultaevidentequeesnecesarioalcanzarsimplifica- 5. NGAT: Framework para el análisis de
cionesanteestetipodegrafos.Lostiposdesimplificaciones grafos de redes
quesepuedenasumirpuedensertandiversascomoeltipo
desituacionesquepuedenpresentarse,portanto,dichassim- NetworkGraphAnalysisTools(NGAT)eslapropuesta
plificaciones no pueden ser generalizadas. Expliquemos lo de este trabajo para dar solución al problema planteado en
anterior mediante un ejemplo: En el caso específico de las elapartadointroductorio.Elobjetivoesencialdelmarcode
redesdecalles,lamodelaciónsedebehacerlomásgenérica trabajoqueseproponeespermitirlaintegracióndelosd¨atos
posible,yaquepuedenexistirrestriccionessobredichasredes, brindados por los SIGs con las soluciones a los problemas
como,porejemplo,lasregulacionesdeltránsito,quelimiten quesegeneranenlasRedesdeTransporte.Laplataformade
elaccesoalasmismasendependenciadelvehículoquecircu- trabajo,oframework,hasidodesarrolladaenellenguajede
leporella.Resultaevidentequeunacalledeunsolosentido programaciónC#yseutilizócomoIntegratedDevelopment
de dirección, limita la circulación por ella a los vehículos Environment(IDE)parasudesarrollo,MicrosoftVisualStudio
automotrices,peronoalospeatonesquelapuedencircular 2017CommunityEdition .LaimplementacióndeNGATestá
porellaenambossentidoshaciendousodesusaceras. centrada,principalmente,endosmodalidadesdeuso:
Comoplataforma(librerías)paralainterpretaciónde
56 NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas
Figura2.Objetosgeométricosdelmodelovectorial
datosgeográficosysupersistenciacomografosderedes implementacióndeestaplataforma,sesiguióelprincipiode
. diseñoguiadoporeldominio(domain-drivendesign,DDD)
Como servicio web para la ejecución de algoritmos [12].Esteenfoqueplantea,básicamente,queeldiseñodelsoft-
sobredichosgrafos.. warequesecrea,debegirarentornoaldominiodelproblema
quesepretenderesolver.Enestecontexto,eltérminodominio
5.1 ArquitecturadeNGAT seinterpretacomotodoslosrequisitosquedebecumplirel
NGATestádesarrolladasiguiendounaarquitecturamulti- softwareparasatisfacerlasnecesidadesdelusuario.Estafilo-
capas[8].Ladecisióndeimplementaresteproyectosiguiendo sofíadediseñopermite,portanto,laseparacióndelalógica
dichopatrónsedebe,enprimerlugar,alafacilidadqueeste del negocio de otros aspectos relacionados con el software
modelo supone para el desarrollo de herramientas de soft- ensí.Paraeldesarrollodelasfuncionalidadesinicialesque
ware. Esta facilidad, en esencia, se traduce en lo siguiente: sebrindancomopartedeNGAT,sesiguióundiseñoguiado
independientementedelaaplicaciónqueseestédiseñando, porpruebas(test-drivendesign,TDD)[10].Esteenfoquega-
resulta intuitiva la descomposición del diseño mediante el rantizalacorrectituddedichasfuncionalidadesyoptimizael
agrupamientológicodecomponentesdesoftware[9].Siel procesodedesarrollo.Bajoestaconcepción,primeramente,se
modeloteóricoinherentealaarquitecturamulticapasseimple- diseñanlaspruebasquedebenpasarlasunidadesdecódigoy,
mentacorrectamente,entonces,lamismasiguelosprincipios posteriormente,seimplementanlasmismas,atendiendoalos
SOLID[11]delaprogramaciónorientadaaobjetosyapar- resultadosalcanzadosendichaspruebas.Entrelasventajas
tir de esto, se garantizan los principios de extensibilidad y quebrindaeldiseñodeNGATseresaltanlassiguientes:
mantenibilidad que son objetivos esenciales en el presente
trabajo.TeniendoencuentalosrequerimientosdeNGAT,en
Sealcanzaunniveldeindependenciaenlaplataforma
elprocesodediseñodelascapaslógicasqueloconforman,
quepermitelasustitucióndealguna,oalgunas,delas
sedeterminóqueeranecesariotener,almenos,trescapas:
capasdependientesdelacapadenegocio(coredela
aplicación)porcapasnuevasquesediseñensinquese
Capadenegocio.
veaafectadoelfuncionamientodelrestodelsistema.O
Capadeservicios.
sea,elañadirosustituirunascapasporotras,noafecta
Capadeaccesoadatos.
lafuncionalidaddelaplataforma.LaFigura3muestra
Además,seimplementóunacapadeinfraestructuratrans- ladependenciaentrelascapasdelaplataforma.Como
versalparacontenerlasfuncionalidadescomunesynecesarias seapreciaendichafigura,lacapadeaplicación,asíco-
paraelrestodelascapas.EnlaFigura3semuestraunesque- moladeaccesoadatosdependen,exclusivamente,dela
maquedescribelaarquitecturamulticapasdeNGAT.Parala capadenegocios.Estaes,precisamente,lametodología
NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas 57
Figura3.ArquitecturadeNGAT
quedefineelDDD. pueden hacer uso de las facilidades expuestas en el
Laextensibilidadestáimplícitaenestetipodediseño:si puntoanterior
serequiereextenderlafuncionalidaddelaplataforma,a
partirdeloscontratosdefinidos,sepuedeimplementar 6. Resultados y Experimentación
la misma en la capa correspondiente (acceso a datos
oservicios).Siseincluyennuevosobjetosaldominio, Para la validación de NGAT se realizaron varias imple-
bastaría con declarar los nuevos contratos referentes mentaciones que demuestran su utilidad en el proceso de
alalógicadenegocioqueimplicandichosobjetos,e construcción de grafos que representan redes de transpor-
implementardichoscontratosenlascapascorrespon- te.Losprimerosmedidoresutilizadosparadichavalidación,
dientes fueronlaspruebasunitariasrealizadasalasfuncionalidades
implementadas.EnlaFigura4semuestraunavistaparcial
5.2 Flujodetrabajoconelframework delgrafoderedconstruidoenlaspruebasrealizadasalobje-
ParalautilizacióndeNGATcomoframework(librerías), toPBFGraphBuilder,encargadodeprocesarlosarchivosen
elflujodetrabajodelosclientesdelsoftwarepuedeserresu- formatoPBFdeOpenStreetMap.Losnodosdedichografo
midoendosvariantesprincipales. sevencomomarcadoresylaslíneasgrisesrepresentanlos
enlaces entre dichos nodos. La visualización de los grafos
Trabajosinpersistenciadelosdatos:Estavariantesu-
construidosmediantelaspruebasunitarias,ylaexperimenta-
ponequenoseutilizaránlasfacilidadesdepersisten-
cióncondichosgrafos,dieronlugaraalgunasoptimizaciones
cia de los datos que implementa la capa de acceso a
encuantoalarepresentacióndelosmismos.Comoejemplo
losmismos.Puederesultarútilcuandosetrabajacon
deloanterior,sepuedemencionarlaeliminacióndepuntos
problemasdepequeñadimensiónynoserequieredel
delgrafocuyoúnicopropósitoesmarcarcambiosdedirec-
almacenamientodelosobjetosdetipografo.Paratra-
ción.Deestamanera,sesimplificalarepresentacióninicial
bajarconestametodología,unclientedelaplataforma
ynosepierdelainformaciónrelacionadacondichospuntos.
debe utilizar la capa de servicios, la componente de
Lageometríadelosmismossealmacenacomoatributodelos
entrada/salida. De esta forma, se tendrá acceso a las
enlaces.
funcionalidadesreferidasalaconstruccióndelosgrafos
Ademásdelaspruebasunitarias,seimplementarontres
eimportaciónyexportacióndelosmismosadiferentes
aplicacionesclientesdelaplataforma:
formatos.
Trabajoconpersistenciadelosdatos:Altrabajarconla NGATTools: es una aplicación que utiliza la API de
persistenciadelosdatos,losclientesdelaplataforma laplataformaypresentasusfuncionalidadesmediante
58 NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas
Figura4.GrafoderedparcialdeLaHabana.Alaizquierda,interseccióndelaAvenidaSalvadorAllendeconlaCalzadade
Infanta.
comandosdeconsola.Atravésdeestaaplicación,se cionar en un mapa de Cuba alguna región, construir
pueden construir los grafos (o subgrafos) desde los elsubgraforeferentealamismayejecutaralgúnalgo-
proveedoresimplementados(OpenStreetMap),exportar ritmo,utilizandoNGAT.WebAPI.Además,sepermite
los mismos a los diferentes formatos soportados por visualizardichosubgrafo(olarespuestadelalgoritmo
NGAT(GeoJSONyGRF)yejecutaralgoritmossobre ejecutado) utilizando OpenLayers (OpenLayers.Org,
losgrafosconstruidos.Suimplementaciónpermitela 2017).Estaaplicaciónmuestralaposibleutilizaciónde
utilizacióndelframeworkporsistemasdetercerosque NGATcomoframeworkparaclientescompletamente
requieransolamentedelarepresentacióndelasredes externosdelaplataforma,osea,clientesparaloscuales
detransporteenalgúnformatoespecífico. noesposiblelautilizacióndelamismacomounabi-
NGAT.WebAPI:puedeversecomounaaplicaciónclien- bliotecadecódigo(DLLs).LaFigura55muestrauna
tedeNGATocomounacapadeserviciosmásdeesta capturadeestaaplicaciónenelprocesodemostraruna
plataforma, ya que es un servicio web que, al igual rutacalculadamedianteelalgoritmodeDijkstra.
queNGATTools,permiteusarlasfuncionalidadesdela
plataformamediantepedidosHTTP.Tienecomoprin-
cipal ventaja, el aislamiento de la plataforma de sus 7. Conclusiones
clientesfinales.AtravésdelprotocoloHTTP,diferen-
Enestetrabajosepresentóunapropuestadedesarrollo
tesusuarios,independientementedesuorigen(sistema
de una plataforma de software cuyo propósito es construir
operativo, dispositivo, etc.), pueden hacer uso de las
grafosparalarepresentacióndeRedesdeTransporte,apartir
facilidadesquebrindaNGAT.Además,abrelaspuertas
de los datos brindados en mapas digitales por los diversos
paraposiblescapasdepresentacióndelaplataforma,
proveedoresdeinformacióngeográfica.Deformamásdeta-
aisladasdelalógicadelascapasrestantes,quepodrían
lladapodemosdecirquelosprincipalesaportesdelapresente
comunicarseeinteractuarconelrestodelaplataforma
investigación,sonlossiguientes:
medianteelusodeesteservicioweb.
Diseño e implementación de un framework con las si-
TravelAgencyMVC:esunaaplicaciónwebdesarrolla-
guientesfuncionalidades:
daenlaUniversidaddeLaHabana.Sepresentacomo
clientedeNGAT.WebAPI.Utilizasusfuncionalidades
UnimportadordegrafosparaelformatoPBFdeOpenS-
apartirdelainteracciónconlosusuariosfinalesdela
treetMap.
referida aplicación. A través de ella, se puede selec-
UnexportadordegrafosparaelformatoGeoJSON.
NGAT:PlataformaparalaobtencióndeRedesdeTransporteparaeltrabajoconProblemasdeDiseñodeRutas 59
Unimportadoryexportador,específicos,paraelforma- Referencias
toGRF.
[1] Amos,M.J.Herramientacomputacionalparalaresolu-
Unserviciogenéricoparaaplicarfiltrosaloselementos
cióndelproblemadelcarterochinoparagrafosdirigidos,
defuentesdedatosgeográficas.
nodirigidosymixtos.TesisdeMaestria,pp60,(2013)
UnconjuntodeAPIsparainteractuarconloselemen-
tosanteriores,usandounaaplicacióndeconsolacomo [2] Star,J., Estes,J.GeographicalInformationSystems:An
cliente. Introduction.(1990)
Unserviciowebclientedelframework(WebAPI)que
posibilitautilizarelmismodeformaremota. [3] Bolstad,P.GISFundamentals:AfirsttextonGeographic
InformationSystems,SecondEdition.WhiteBearLake,
Además,serealizaronlassiguientesimplementacionescompu- MN:EiderPress,pp543,(2005)
tacionales:
[4] Villalobos,A.R.IntegracióndeunSIGconmodelosde
calculoyoptimizaciónderutasdevehículosCVRPy
Unalgoritmoderuteo(Dijkstra)quedemostrólaspo-
softwaredegestióndeflotas.Madrid.(35),pp8(2007)
tencialidadesdelframework.
[5] OSRM-Backend.OSRMBackend-GitHub.Retrieved
Unaaplicacióncliente,conmapa,quepermitevisuali-
fromhttps://github.com/Project-OSRM/osrm-backend
zarlosresultadosalcanzadosporelalgoritmoanterior.
(2017)
Operacionesgeométricasparalainterseccióndepolí-
gonosconlosgrafosgenerados. [6] tinero.Itinero.Retrievedfromhttp://www.itinero.tech
(2017)
Sepuedeconcluir,porloexpuestoanteriormente,quesecum-
plióelobjetivoprimariodeestetrabajo,asícomolosobjetivos [7] Tomlin,C.D.Geographicinformationsystemsandcar-
secundariosoespecíficos,mencionadosenlaseccionintro- tographicmodeling.PrenticeHall.(1990)
ductoria.
[8] Richards, M. Software Architechture Patterns.
O’Reilly.(2010)
7.1 Líneasfuturasdeinvestigación
Loselementosquepermitendarcontinuidadinmediataa [9] MicrosoftMSDN.MicrosoftApplicationArchitecture
lainvestigaciónyenfuncióndelosresultadosyaalcanzados, Guide.MicrosoftPress.(2009)
sonlossiguientes:
[10] Fowler, M. Unit Test. Retrieved from
https://martinfowler.com/bliki/UnitTest.html.(2017)
Implementar procesadores para datos que provengan
deotrosproveedoresdeinformacióngeográfica,tales [11] Metz,S.SOLIDObject-OrientedDesign.(2009,Enero)
como,Shapefile,OpenStreetMapXML,SQLServerFea-
tures,etc. [12] Evans,E.Domain-DrivenDesign-TacklingComplexity
Incorporar algún sistema de plugins al servicio web intheHeartofSoftware.AddisonWesley.(2004)
deformatalquepermitaextender,dinámicamente,la
[13] Mapkin, OsmGraph. Retrieved from
funcionalidaddelaplataforma.
https://github.com/Mapkin/osmgraph,(2017,3).
Optimizarlarepresentacióninternadelosgrafosme-
diantealgoritmosquepermitanordenarelespaciobi- [14] Luxen, D, Smart Directions Powered by
dimensionalcomo,porejemplo,laordenaciónporla OSRM?s Enhanced Graph Model. Retrieved from
curvadeHilbert,locualbrindaríaunaobtenciónmás https://www.mapbox.com/blog/smart-directions-with-
eficientedelosobjetosgeométricosquecomponenel osrm-graph-model/,(2017,4)
grafo.
